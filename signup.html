<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
     <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/e33b1972ba.js" crossorigin="anonymous"></script>
</head>
<style>
    *{
        padding: 0;
        margin: 0;
        box-sizing: border-box;
    }
    .container{
        text-align: center;
        margin: auto;
        margin-top: 80px;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
        font-weight: 600px;
        
        
    }
    .member{
        text-align: center;
        margin: auto;
        margin-top: 30px;
        font-family:Arial, Helvetica, sans-serif;
        font-weight: 50px;
    }
    .social{
        text-align: center;
        margin: auto;
        margin-top: 20px;
        font-family: Arial, Helvetica, sans-serif;
        font-weight: 300px;
        
        
    }
    .btn{
        width: 400px;
        height: 45px;
        font-size: 16px;
        margin: 5px 20px 5px 5px;
    }
    .public{
        text-align: center;
        margin: auto;
        margin-top: 20px;
        height: 50vh;
    }
    a{
        text-decoration: none;
        color: gray;
    }


    
</style>
<body>
    <!-- <div class="container"> 
        <h1>Sign Up </h1>
        </div>
        <div class="member">
        <h5>Already a Member? <span><a href="">Log in</a></span></h5>
        </div>

        <div class="social">
        
        <button id="google" type="button" class="btn btn-outline-secondary"><i class="fa-brands fa-google"></i> Sign up with Google </button>
        </div>
        <div class="social">
        <button id="facebook" type="button" class="btn btn-outline-secondary"><i class="fa-brands fa-facebook"></i> Sign up with Facebook </button>
        </div>

        <div class="social">
       <a href="#mail"> <button type="button" class="btn btn-outline-secondary"><i class="fa-regular fa-envelope-open"></i> Sign up with Email </button> </a>
        
    </div>

        <div class="public">
  <input class="form-check-input" type="checkbox" value="" id="checkDefault">
  <label class="form-check-label" for="checkDefault">
    sign up to this site with a public profile.
  </label> <span>
 <a href="">Read more</a> </span>
</div> -->

  <div id="mail" class="mail">
    <div style="text-align: center;">
    <img src="./asset/dar elmers (2).jpg" alt="">
    </div>
  <div class="mx-auto col-7 rounded shadow my-4 p-3">
    <h1 style="text-align: center;">Sign up with Email</h1>
    <input id="firstname" type="text" placeholder="First Name" class="form-control mb-3" >
    <input id="lastname" type="text" placeholder="Last Name" class="form-control mb-3">
    <input id="email" type="text" placeholder="example@gmail.com" class="form-control mb-3">
    <input id="password" type="password" placeholder="password" class="form-control mb-3">
    <input id="Date" type="datetime-local" placeholder="Date of birth" class="form-control mb-3">
    <button id="registerUser" class="btn btn-outline-success w-100"> Sign Up</button>
    </div>

</div>




<body>

<!-- <div class="w3-container">
  <h2>W3.CSS Login Modal</h2>
  <button onclick="document.getElementById('id01').style.display='block'" class="w3-button w3-green w3-large">Login</button>

  <div id="id01" class="w3-modal">
    <div class="w3-modal-content w3-card-4 w3-animate-zoom" style="max-width:600px">

      <div class="w3-center"><br>
        <span onclick="document.getElementById('id01').style.display='none'" class="w3-button w3-xlarge w3-hover-red w3-display-topright" title="Close Modal">&times;</span>
        <img src="img_avatar4.png" alt="Avatar" style="width:30%" class="w3-circle w3-margin-top">
      </div>

      <form class="w3-container" action="/action_page.php">
        <div class="w3-section">
          <label><b>Username</b></label>
          <input class="w3-input w3-border w3-margin-bottom" type="text" placeholder="Enter Username" name="usrname" required>
          <label><b>Password</b></label>
          <input class="w3-input w3-border" type="password" placeholder="Enter Password" name="psw" required>
          <button class="w3-button w3-block w3-green w3-section w3-padding" type="submit">Login</button>
          <input class="w3-check w3-margin-top" type="checkbox" checked="checked"> Remember me
        </div>
      </form> -->




      
<!-- 
      <div class="w3-container w3-border-top w3-padding-16 w3-light-grey">
        <button onclick="document.getElementById('id01').style.display='none'" type="button" class="w3-button w3-red">Cancel</button>
        <span class="w3-right w3-padding w3-hide-small">Forgot <a href="#">password?</a></span>
      </div> -->

    </div>
  </div>
</div>
            
</body>
</html>



















<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";
  import { getAuth, createUserWithEmailAndPassword, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
  import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";
//GoogleAuthProvider, signInWithPopup, FacebookAuthProvider  


//import { FacebookAuthProvider } from "firebase/auth";

  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyDVrpKhzUyupv2gPA6cXa7ws0ziT2TVjpg",
    authDomain: "prestigious-app.firebaseapp.com",
    databaseURL: "https://prestigious-app-default-rtdb.firebaseio.com",
    projectId: "prestigious-app",
    storageBucket: "prestigious-app.firebasestorage.app",
    messagingSenderId: "247314856088",
    appId: "1:247314856088:web:feeaf32b99e050304378ed",
    measurementId: "G-M0HEJQ3M55"
    
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const auth = getAuth();
  const provider = new GoogleAuthProvider();
  const db = getDatabase();
  // const providerr = new FacebookAuthProvider();

document.getElementById("registerUser").addEventListener("click", ()=>{

    let firstName = document.getElementById("firstname").value;
    let lastname = document.getElementById("lastname").value;
    let email = document.getElementById("email").value;
    let password = document.getElementById("password").value;
     
    if (firstName == "" || lastname == "" || email == "" || password == "" ) {
      alert("All field are required")

    } 

    let userInfo = {
        firstName, lastname, email, password, createdAt: new Date().toISOString(),
    }
    

    console.log(userInfo)
    createUserWithEmailAndPassword(auth, email,
    password)
    .then((user)=>{
        console.log(user)
    
        let uid = user.user.uid
        console.log(uid)
        alert("Signup Successfully!") 
    

    let userRef = ref(db, `users/${uid}`)
    set(userRef, userInfo)
    .then(()=>{
      console.log("user info saved")
      location.href = "./cart-page.html"
    })
    .catch((error)=>{
      console.log(error)
      console.log("user info not saved")
      alert("Error with signingup")
    })
    })
    .catch((error)=>{
        console.log(error)
        alert("Error with Signingup")
     })
     
    });





// facebook.addEventListener("click", ()=>{
//     signInWithPopup(auth, providerr)
//      .then((result) => {
//         console.log(result)
//     // The signed-in user info.
//     const user = result.user;

//     // This gives you a Facebook Access Token. You can use it to access the Facebook API.
//     const credential = FacebookAuthProvider.credentialFromResult(result);
//     const accessToken = credential.accessToken;

//     // IdP data available using getAdditionalUserInfo(result)
//     // ...
//   }).catch((error) => {
//     // Handle Errors here.
//     console.log(error)
//     const errorCode = error.code;
//     const errorMessage = error.message;
//     // The email of the user's account used.
//     const email = error.customData.email;
//     // The AuthCredential type that was used.
//     const credential = FacebookAuthProvider.credentialFromError(error);

//     // ...
//   });
// })







  //  google.addEventListener("click", ()=>{
  //       signInWithPopup(auth, provider)
  // .then((result) => {
  //   console.log(result)
  //   // This gives you a Google Access Token. You can use it to access the Google API.
  //   const credential = GoogleAuthProvider.credentialFromResult(result);
  //   const token = credential.accessToken;
  //   // The signed-in user info.
  //   const user = result.user;
  //   // IdP data available using getAdditionalUserInfo(result)
  //   // ...
  // }).catch((error) => {
  //   // Handle Errors here.
  //   console.log(error)
  //   const errorCode = error.code;
  //   const errorMessage = error.message;
  //   // The email of the user's account used.
  //   const email = error.customData.email;
  //   // The AuthCredential type that was used.
  //   const credential = GoogleAuthProvider.credentialFromError(error);
  //   // ...
  // });
  //   })
</script>


</body>
</html>